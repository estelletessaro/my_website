---
title: "Biden's Approval Margins"
date: '2017-10-31T22:26:13-05:00'
description: Fivethirtyeight.com has detailed data on [all polls that track the president's approval ](https://projects.fivethirtyeight.com/biden-approval-ratings). Let's analyse his approval polls since he came into office in January 2021.
draft: no
image: biden.jpg
keywords: ''
slug: homework2a
categories:
- ''
- ''
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>Fivethirtyeight.com has detailed data on <a href="https://projects.fivethirtyeight.com/biden-approval-ratings">all polls that track the president’s approval</a>. Let’s analyse his approval polls since he came into office in January 2021.</p>
<pre><code>## Rows: 1,601
## Columns: 22
## $ president           &lt;chr&gt; &quot;Joseph R. Biden Jr.&quot;, &quot;Joseph R. Biden Jr.&quot;, &quot;Jos…
## $ subgroup            &lt;chr&gt; &quot;All polls&quot;, &quot;All polls&quot;, &quot;All polls&quot;, &quot;All polls&quot;…
## $ modeldate           &lt;chr&gt; &quot;9/19/2021&quot;, &quot;9/19/2021&quot;, &quot;9/19/2021&quot;, &quot;9/19/2021&quot;…
## $ startdate           &lt;chr&gt; &quot;1/31/2021&quot;, &quot;2/1/2021&quot;, &quot;2/1/2021&quot;, &quot;2/2/2021&quot;, &quot;…
## $ enddate             &lt;chr&gt; &quot;2/2/2021&quot;, &quot;2/3/2021&quot;, &quot;2/3/2021&quot;, &quot;2/4/2021&quot;, &quot;2…
## $ pollster            &lt;chr&gt; &quot;YouGov&quot;, &quot;Rasmussen Reports/Pulse Opinion Researc…
## $ grade               &lt;chr&gt; &quot;B+&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;A-&quot;, &quot;B&quot;, &quot;B-&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B…
## $ samplesize          &lt;dbl&gt; 1500, 1500, 15000, 15000, 1429, 1500, 1005, 15000,…
## $ population          &lt;chr&gt; &quot;a&quot;, &quot;lv&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;lv&quot;, &quot;a&quot;, &quot;a&quot;, &quot;lv&quot;, &quot;a…
## $ weight              &lt;dbl&gt; 1.0856, 0.3308, 0.2786, 0.2507, 2.0760, 0.3086, 0.…
## $ influence           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ approve             &lt;dbl&gt; 46, 52, 54, 54, 49, 49, 57, 54, 50, 54, 60, 59, 51…
## $ disapprove          &lt;dbl&gt; 38, 46, 33, 34, 39, 48, 34, 34, 47, 34, 32, 35, 46…
## $ adjusted_approve    &lt;dbl&gt; 47.3, 54.4, 52.5, 52.5, 49.6, 51.4, 55.9, 52.5, 52…
## $ adjusted_disapprove &lt;dbl&gt; 38.3, 40.1, 36.3, 37.3, 39.1, 42.1, 35.1, 37.3, 41…
## $ multiversions       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ tracking            &lt;lgl&gt; NA, TRUE, TRUE, TRUE, NA, TRUE, NA, TRUE, TRUE, TR…
## $ url                 &lt;chr&gt; &quot;https://docs.cdn.yougov.com/460mactkmh/econTabRep…
## $ poll_id             &lt;dbl&gt; 74332, 74338, 74366, 74367, 74348, 74347, 74345, 7…
## $ question_id         &lt;dbl&gt; 139593, 139642, 139733, 139734, 139668, 139654, 13…
## $ createddate         &lt;chr&gt; &quot;2/3/2021&quot;, &quot;2/4/2021&quot;, &quot;2/11/2021&quot;, &quot;2/11/2021&quot;, …
## $ timestamp           &lt;chr&gt; &quot;13:37:08 19 Sep 2021&quot;, &quot;13:37:08 19 Sep 2021&quot;, &quot;1…</code></pre>
<pre class="r"><code># We use `lubridate` to fix dates, as they are given as characters.
library(lubridate) 

clean_approval_polllist &lt;- approval_polllist %&gt;%
  mutate(enddate=mdy(enddate),
         week=isoweek(enddate)) </code></pre>
<div id="create-a-plot" class="section level2">
<h2>Create a plot</h2>
<p>We calculate the average net approval rate (approve- disapprove) for each week since he got into office. We will plot the net approval, along with its 95% confidence interval. We will try to copy the following plot:</p>
<pre class="r"><code>knitr::include_graphics(here::here(&quot;images&quot;, &quot;biden_approval_margin.png&quot;), error = FALSE)</code></pre>
<p><img src="/Users/estelletessaro/Library/Mobile Documents/com~apple~CloudDocs/2021/LBS '21-'22/Applied Statistics/my_website/images/biden_approval_margin.png" width="100%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>#First, we filter by Adults and create a new column for the daily approval margin
clean_approval_polllist &lt;- clean_approval_polllist %&gt;%
  filter(subgroup == &quot;Adults&quot;) %&gt;%
  mutate(daily_approval_margin = approve - disapprove)</code></pre>
<pre class="r"><code>#Next, we group them by week to get the weekly average from all available polls and calculate pur confidence intervals
weekly_avg_app_rates &lt;- clean_approval_polllist %&gt;%
  group_by(week) %&gt;%
  summarize( mean_weekly_approval_margin = mean(daily_approval_margin, na.rm = TRUE),
             number_polls = n(),
             std_weekly_approval_margin = STDEV(daily_approval_margin)) %&gt;%

  mutate(lower_bound_CI_app_rate = mean_weekly_approval_margin - qt(0.975, df=number_polls-1)*std_weekly_approval_margin/sqrt(number_polls),
         upper_bound_CI_app_rate = mean_weekly_approval_margin + qt(0.975, df=number_polls-1)*std_weekly_approval_margin/sqrt(number_polls))</code></pre>
<pre class="r"><code>#Lastly, we recreate our plot
ggplot(weekly_avg_app_rates, aes(x=week)) +
  geom_point(aes(y=mean_weekly_approval_margin, color=&quot;orangered&quot;)) +
  geom_line( aes(y=mean_weekly_approval_margin, color=&quot;orangered&quot;)) +
  geom_ribbon(aes(ymin = lower_bound_CI_app_rate, 
                 ymax = upper_bound_CI_app_rate), 
                 show.legend = NA,
                 fill = &quot;grey&quot;,
                 colour = &quot;orange&quot;, 
                 alpha = 0.2) +
  geom_smooth(aes(y= mean_weekly_approval_margin), fill=NA)+
  geom_hline(yintercept=0, color=&quot;orange&quot;, size=3)+
  theme_bw() +
  labs (
    title = &quot;Estimating Approval Margin (Approve - Disapprove) for Joe Biden&quot;,
    subtitle = &quot;Weekly average of all polls&quot;,
    x = &quot;Week of the year&quot;,
    y = &quot;Average Approval Margin (Approve - Disapprove)&quot;
  ) +
  theme(legend.position = &quot;none&quot;)</code></pre>
<p><img src="/blogs/homework2_files/figure-html/unnamed-chunk-5-1.png" width="648" style="display: block; margin: auto;" /></p>
</div>
